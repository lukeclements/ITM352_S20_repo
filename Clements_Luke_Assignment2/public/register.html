/* Luke Clements */
<!DOCTYPE html>
<html lang="en">
    <head>
        <script>
            /* get the query string values from form submission (Lab13 order_page) */
            let params = (new URL(document.location)).searchParams;
            /*Allow to get parameters*/
            /* Creating function window.onload so when the page is loading, it checks to make sure there is a quantity written and that the quantities in textbox are valid*/
            window.onload = function () {
                /* creating the function for window.onload*/
                /*Check if we're getting redirected from the server because of an error*/
                if (params.has('errors')) {
                    /*if params has invalid registration data*/
                    /* Put the original data back into the textboxes*/
                    /*put values of query string into boxes*/
                    Register['name'].value = params.get('name');
                    /*for name*/
                    Register['username'].value = params.get('username');
                    /*for username*/
                    Register['password'].value = params.get('password');
                    /*for password*/
                    Register['confirmpsw'].value = params.get('confirmpsw');
                    /*for confirm password*/
                    Register['email'].value = params.get('email');
                    /*for email*/
                    /*get errors, indicate them on form*/
                    /*if there is a registration error, put up an alert*/
                    alert('Fix the following errors: \n' + params.get('errors'));
                }
                if (params.has('nameerrors')) {
                    var nameerrors = params.get('nameerrors');
                    document.getElementById("namelabel").innerHTML = nameerrors;
                }
                if (params.has('usererrors')) {
                    var usererrors = params.get('usererrors');
                    document.getElementById("userlabel").innerHTML = usererrors;
                }
                if (params.has('passerrors')) {
                    var passerrors = params.get('passerrors');
                    document.getElementById("pswlabel").innerHTML = passerrors;
                }
                if (params.has('confirmerrors')) {
                    var confirmerrors = params.get('confirmerrors');
                    document.getElementById("confirmpswlabel").innerHTML = confirmerrors;
                }
                if (params.has('emailerrors')) {
                    var emailerrors = params.get('emailerrors');
                    document.getElementById("emaillabel").innerHTML = emailerrors;
                }
            }
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Registration Page</title>
        <link rel="stylesheet" href="login-style.css">
        <link href="https:/*fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet">
    </head>

    <body>
        <div>
            <!-- /*Creating the login form*/ -->
            <form name="Register" action="register" method="POST">
                Registration Page <br> <br>
                <div class="container">
                    <label for="name"><b>Name</b></label>
                    <input type="text" name="name" maxlength="30" onkeyup="" required><br>
                    <label for="namelabel" id="namelabel"></label>
                    <br>
                    <label for="username"><b>Username</b></label>
                    <input type="text" id="username" name="username" onkeyup="" minlength="4" maxlength="10" required>
                    <br>
                    <label for="userlabel" id="userlabel"></label>
                    <br>
                    <label for="password"><b>Password</b></label>
                    <input type="password" name="password" onkeyup="" minlength="6" required><br>
                    <label for="pswlabel" id="pswlabel"></label>
                    <br>
                    <label for="confirmpsw"><b>Confirm Password</b></label>
                    <input type="password" name="confirmpsw" onkeyup="" required><br>
                    <label for="confirmpswlabel" id="confirmpswlabel"></label>
                    <br>
                    <label for="email"><b>Email Address</b></label>
                    <input type="email" id="email" name="email" onkeyup="" required><br>
                    <label for="emaillabel" id="emaillabel"></label>
                    <br>
                    <input type="submit" name="submit" value="Register">
                </div>
            </form>
        </div>
    </body>
</html>